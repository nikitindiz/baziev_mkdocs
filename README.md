# Проект MkDocs для книги Базиева

Этот проект содержит настройку для отображения книги "Система новейших фундаментальных открытий" в формате MkDocs.

## Установка и запуск

1. Убедитесь, что у вас установлен Python 3.
2. Для установки зависимостей и запуска проекта выполните:

```bash
# Сделайте скрипты исполняемыми
chmod +x setup.sh build.sh split_only.sh deploy_ghpages.sh

# Запустите скрипт установки и запуска сервера
./setup.sh
```

Скрипт автоматически:
- Создаст виртуальное окружение Python
- Установит необходимые зависимости
- Разделит большой файл книги на отдельные страницы
- Запустит локальный сервер MkDocs

## Другие скрипты

Для удобства в проекте есть несколько вспомогательных скриптов:

```bash
# Только разделить файл на страницы
./split_only.sh

# Собрать статический сайт
./build.sh

# Опубликовать на GitHub Pages
./deploy_ghpages.sh

# Опубликовать на GitHub Pages
./deploy_ghpages.sh
```

## Публикация на GitHub Pages

Для публикации сайта на GitHub Pages:

1. Убедитесь, что ваш проект находится в репозитории GitHub
2. Выполните команду:

```bash
chmod +x deploy_ghpages.sh
./deploy_ghpages.sh
```

Скрипт автоматически:
- Сохранит изменения в текущей ветке
- Создаст и настроит ветку gh-pages
- Опубликует сайт на GitHub Pages

После выполнения скрипта ваш сайт будет доступен по адресу: `https://YOUR-USERNAME.github.io/YOUR-REPO-NAME/`

## Публикация на GitHub Pages

Для публикации сайта на GitHub Pages:

1. Убедитесь, что ваш проект находится в репозитории GitHub
2. Выполните команду:

```bash
chmod +x deploy_ghpages.sh
./deploy_ghpages.sh
```

Скрипт автоматически:
- Сохранит изменения в текущей ветке
- Создаст и настроит ветку gh-pages
- Опубликует сайт на GitHub Pages

После выполнения скрипта ваш сайт будет доступен по адресу: `https://YOUR-USERNAME.github.io/YOUR-REPO-NAME/`

## Структура проекта

- `baziev_physics.md` - исходный файл с полным текстом книги
- `toc.md` - структура содержания книги
- `docs/` - директория с разделенными файлами для MkDocs
- `mkdocs.yml` - конфигурационный файл для MkDocs
- `split_book.py` - скрипт для разделения большого файла на отдельные страницы
- `venv/` - виртуальное окружение Python (создается автоматически)
- `requirements.txt` - список зависимостей проекта
- `deploy_ghpages.sh` - скрипт для публикации сайта на GitHub Pages

## Особенности реализации

Скрипт `split_book.py` выполняет следующие задачи:

1. Разделяет большой файл `baziev_physics.md` на отдельные страницы по параграфам
2. Создает структуру директорий для глав и параграфов
3. Генерирует `mkdocs.yml` с правильной структурой навигации
4. Очищает заголовки от HTML-тегов для корректного отображения в навигации

Особенности:
- Главы, параграфы и подзаголовки сохраняются в иерархическую структуру
- Заголовки очищаются от HTML-тегов для корректной работы MkDocs
- Учтены ситуации, когда между заголовками разных уровней нет контента
- Проект настроен для корректного отображения математических формул

## Ручная установка

Если вы предпочитаете выполнять команды вручную:

```bash
# Создание и активация виртуального окружения
python3 -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate

# Установка зависимостей
pip install -r requirements.txt

# Разделение файла на страницы
python split_book.py

# Запуск локального сервера
mkdocs serve

# ИЛИ сборка статического сайта
mkdocs build

# ИЛИ публикация на GitHub Pages
mkdocs gh-deploy --force
```
